import java.lang.*;
import java.util.Random;

public class LinkedApp {
	//Fields 
		static long Squares = 0;
		static long Occurences = 0;
			
	public static void main(String[] args)
	{
		//Fields 
		LinkedSeq StringSequence;
		LinkedSeq RectangleSequence;
		
		
		//Introduce the Application 
		System.out.println("Welcome to the CS260 Project 2\nThis is a program that demonstrates methods used with a linked sequence\n");
		
		//Record the runtime
		long step1runtime = System.currentTimeMillis();
		//Step 1: Create a LinkedSeq of 100, 000 Rectangle objects each having integer
		//dimensions randomly selected between 1 and 40.
		
		//Create the RNG
		Random rand = new Random();
		//Create the tail first
		Node tempNode = new Node(new Rectangle(rand.nextInt(40),rand.nextInt(40)), null);
		RectangleSequence = new LinkedSeq(tempNode);
		RectangleSequence.setTail(tempNode);
		//Populate the list					//Works correctly
		for (int i = 0; i < 100000; i++){
			if (i != 99999)
			{ 
				tempNode = new Node(new Rectangle(rand.nextInt(40),rand.nextInt(40)), tempNode);
			}
			if (i == 99999)
			{ 
			//Manually set the tail
				tempNode = new Node(new Rectangle(rand.nextInt(40),rand.nextInt(40)), tempNode);
				RectangleSequence.setHead(tempNode);
				
			}
			
		}
		
//		Proof the LinkedSeq was populated
		System.out.println("Step 1: The sequence is populated with 100,000 nodes");
		System.out.println("The head node is shown below");
		System.out.println("The head node is: " + RectangleSequence.getHead() + "\n");
//		End of runtime for step 1
		step1runtime = System.currentTimeMillis() - step1runtime;
		
		
		//Step 2: Verify that the listPosition() method returns the tails reference for
		//position number 100,000
		//Record runtime
		long step2runtime = System.currentTimeMillis();
//		Proof that the listPosition() method returns the tail
		System.out.println("Step 2: Verify that the listPosition() method returns the tail");
		System.out.println("Using getTail(), the tail is: " + RectangleSequence.getTail(RectangleSequence.getHead()));
		System.out.println("Using listPosition(), the tail is: " + RectangleSequence.getTail(RectangleSequence.getHead()));
		System.out.println("Both return the same Node, therefore both methods work!" + "\n");
		//Record runtime
		step2runtime = System.currentTimeMillis() - step2runtime;
		
		//Step 3: Instantiate a Rectangle array to the list length (do not use literals) and
		//load the Rectangles from the list to the array
		//Record runtime
		long step3runtime = System.currentTimeMillis();
		System.out.println("Step 3: Populate a rectangle array");
		
		Rectangle[] RectArray = new Rectangle[Node.listLength(RectangleSequence.getHead())];
		Node tempCursor = RectangleSequence.getHead();
		
		//Populate the array
		int counter = 0;
		while (tempCursor.getLink()!=null)
		{
			RectArray[counter] = (Rectangle)tempCursor.getData();
			counter++;
			tempCursor = tempCursor.getLink();
		}
		System.out.println("The populated Rectangle arrays length: " + RectArray.length + "\n");
		//Record runtime
		step3runtime = System.currentTimeMillis()- step3runtime;
		
		//Step 4: Create a target Rectangle with side 20, 20 and call the counting method
		//passing your array and target as parameters
		//Record runtime
		long step4runtime = System.currentTimeMillis();
		Rectangle targetRectangle = new Rectangle(20,20);
		Counting(RectArray, targetRectangle);
		System.out.println("Step 4: Find the occurences of squares and of the target");
		System.out.println("The number of squares is: " + Squares);
		System.out.println("The number of occurences of the target is: " + Occurences + "\n");
		//Record runtime
		step4runtime = System.currentTimeMillis() - step4runtime;
		
		//Step 5: Measure the running time of each step above as well as the combined
		//time and record the results. Hint: use method call System.currentTimeMillis() to
		//record the current real time in milliseconds (the return type of the method is
		//long)
		//Record runtime
		long step5runtime = System.currentTimeMillis();
		System.out.println("Step 5: Calculate the runtime of each step in Milliseconds");
		System.out.println("Step 1: " +step1runtime + "ms");
		System.out.println("Step 2: " +step2runtime + "ms");
		System.out.println("Step 3: " +step3runtime + "ms");
		System.out.println("Step 4: " +step4runtime + "ms");
		//Record runtime
		step5runtime = System.currentTimeMillis() - step4runtime;
		//Incude runtime for step 5
		System.out.println("Step 5: " + step5runtime + "ms");
		
		
		
	}
	
	public static void Counting(Rectangle[] boxes, Rectangle Target)
	{
		
		//Counts the occurences of a square and matches of the target
		for (int i = 0; i < boxes.length; i++ ) {
			if (boxes[i].getLength() == boxes[i].getWidth()){
				Squares++;
			}
			if (boxes[i].equals(Target)){
				Occurences++;
			}
		}
		
	}
	
	
}
